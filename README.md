<p align="center">
  <img src="demo/logo.png" width="10%" />
</p>

<div align="center">
<h1>Cloud Mail</h1>
</div>
<div align="center">
    <h4>ä¸€ä¸ªä½¿ç”¨Vue3å¼€å‘çš„å“åº”å¼ç®€çº¦é‚®ç®±æœåŠ¡ï¼Œ å¯ä»¥éƒ¨ç½²åˆ°Cloudflareäº‘å¹³å°å®ç°å…è´¹ç™½å«–ğŸ‰</h4> 
</div>






## åœ¨çº¿æ¼”ç¤º

ğŸ‘‰ https://skymail.ink

| ![](demo/demo1.png) | ![](demo/demo2.png) |
|--------------------------------------------------------|---------------------|
| ![](demo/demo3.png) | ![](demo/demo4.png) |





## åŠŸèƒ½ä»‹ç»

- **ğŸ’°å…è´¹ç™½å«–**ï¼šæ— éœ€æœåŠ¡å™¨ï¼Œéƒ¨ç½²åˆ°Cloudflare Workers å…è´¹ä½¿ç”¨ï¼Œä¸è¦é’±

- **ğŸ’»å“åº”å¼è®¾è®¡**ï¼šå“åº”å¼å¸ƒå±€è‡ªåŠ¨é€‚é…PCå’Œå¤§éƒ¨åˆ†æ‰‹æœºç«¯æµè§ˆå™¨

- **ğŸ”€å¤šå·æ¨¡å¼**ï¼šå¼€å¯åä¸€ä¸ªç”¨æˆ·å¯ä»¥æ·»åŠ å¤šä¸ªé‚®ç®±ï¼Œé»˜è®¤ä¸€ç”¨æˆ·ä¸€é‚®ç®±ï¼Œç±»ä¼¼å„å¤§é‚®ç®±å¹³å°

- **ğŸ“¦é™„ä»¶æ¥æ”¶**ï¼šæ”¯æŒæ¥æ”¶é™„ä»¶ï¼Œä½¿ç”¨R2å¯¹è±¡å­˜å‚¨ä¿å­˜å’Œä¸‹è½½æ–‡ä»¶ 

- **â­æ˜Ÿæ ‡é‚®ä»¶**ï¼šæ ‡è®°é‡è¦é‚®ä»¶ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥é˜…

- **ğŸ¨ä¸ªæ€§åŒ–æ ‡é¢˜**ï¼šå¯ä»¥è‡ªå®šä¹‰ç½‘ç«™æ ‡é¢˜

- **â±ï¸è½®è¯¢åˆ·æ–°**ï¼šè½®è¯¢è¯·æ±‚æœåŠ¡å™¨è‡ªåŠ¨è·å–æœ€æ–°é‚®ä»¶ï¼Œå¯è‡ªå®šä¹‰é—´éš”

- **âš™ï¸åŠŸèƒ½å¼€å…³**ï¼šå¯ä»¥å¯¹æ³¨å†Œï¼Œæ·»åŠ ç­‰åŠŸèƒ½å…³é—­å’Œå¼€å¯ï¼Œè®¾ä¸ºç§äººç«™ç‚¹

- **ğŸ¤–äººæœºéªŒè¯**ï¼šé›†æˆTurnstileäººæœºéªŒè¯ï¼Œé˜²æ­¢äººæœºæ‰¹é‡æ³¨å†Œ

- **ğŸ“œæ›´å¤šåŠŸèƒ½**ï¼šæ­£åœ¨å¼€å‘ä¸­...



## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼š[Vue3](https://vuejs.org/) + [Element Plus](https://element-plus.org/) 

- **Webæ¡†æ¶**ï¼š[Hono](https://hono.dev/)

- **ORMï¼š**[Drizzle](https://orm.drizzle.team/)

- **å¹³å°ï¼š** [Cloudflare workers](https://developers.cloudflare.com/workers/)

- **ç¼“å­˜**ï¼š[Cloudflare KV](https://developers.cloudflare.com/kv/)

- **æ•°æ®åº“**ï¼š[Cloudflare D1](https://developers.cloudflare.com/d1/)

- **æ–‡ä»¶å­˜å‚¨**ï¼š[Cloudflare R2](https://developers.cloudflare.com/r2/)





## ä½¿ç”¨æ•™ç¨‹

[**ğŸ‘‰å°ç™½ä¿å§†æ•™ç¨‹-ç•Œé¢éƒ¨ç½²**](https://doc.skymail.ink)

### ç¯å¢ƒè¦æ±‚



Nodejs v18.20 +

Cloudflare è´¦å·


**å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°**
``` shell
git clone https://github.com/LaziestRen/cloud-mail #æ‹‰å–ä»£ç 
cd cloud-mail/mail-worker #è¿›å…¥workerç›®å½•
```

**å®‰è£…ä¾èµ–**
```shell
npm i
```

**é¡¹ç›®é…ç½®**

```toml
[[d1_databases]]
binding = "db"			#d1æ•°æ®åº“ç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
database_name = ""		#d1æ•°æ®åº“åå­—
database_id = ""		#d1æ•°æ®åº“id

[[kv_namespaces]]
binding = "kv"			#kvç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
id = ""			        #kvæ•°æ®åº“id

#(å¯é€‰)
[[r2_buckets]]
binding = "r2"                  #r2å¯¹è±¡å­˜å‚¨ç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
bucket_name = ""	        #r2å¯¹è±¡å­˜å‚¨æ¡¶çš„åå­—
	

[assets]
binding = "assets"		#é™æ€èµ„æºç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
directory = "./dist"	        #å‰ç«¯vueé¡¹ç›®æ‰“åŒ…çš„é™æ€èµ„æºå­˜æ”¾ä½ç½®,é»˜è®¤dist

[vars]
domain = []			#é‚®ä»¶åŸŸåå¯ä»¥é…ç½®å¤šä¸ª ç¤ºä¾‹: ["example1.com","example2.com"]
admin = ""		        #ç®¡ç†å‘˜çš„é‚®ç®± ç¤ºä¾‹: admin@example.com
jwt_secret = ""			#jwtä»¤ç‰Œçš„å¯†é’¥,éšä¾¿å¡«ä¸€ä¸²å­—ç¬¦ä¸²
r2_domain = ""			#r2å¯¹è±¡å­˜å‚¨æ¡¶çš„è®¿é—®åŸŸå(å¯é€‰)
site_key = ""			#TurnstileäººæœºéªŒè¯çš„ç«™ç‚¹å¯†é’¥(å¯é€‰)
secret_key = ""			#TurnstileäººæœºéªŒè¯çš„åç«¯å¯†é’¥(å¯é€‰)

```

**æœ¬åœ°è¿è¡Œ**

æœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨å®‰è£…ï¼Œæ— éœ€åˆ›å»º

```shell
npm run dev 
```


**è¿œç¨‹éƒ¨ç½²**

åœ¨Cloudflareæ§åˆ¶å°åˆ›å»ºKVå’ŒD1æ•°æ®åº“ï¼Œå¯é€‰ï¼šR2å¯¹è±¡å­˜å‚¨ï¼ŒTurnstileäººæœºéªŒè¯ (è¿™ä¸¤ä¸ªä¸é…ç½®é™„ä»¶å’ŒäººæœºéªŒè¯ä¸å¯ç”¨)

åœ¨ wrangler.toml ä¸­é…ç½®å¯¹åº”ç¯å¢ƒå˜é‡

```shell
npm run deploy 
```

ç„¶åè¿›å…¥åŸŸåç®¡ç†->ç”µå­é‚®ä»¶->è·¯ç”±è§„åˆ™->Catch-all åœ°å€. è¿™é‡Œé€‰æ‹©å‘é€åˆ° worker, ç„¶åé€‰æ‹©åˆ›å»ºçš„worker




## ç›®å½•ç»“æ„

```
cloud-mail
â”œâ”€â”€ mail-worker				#workeråç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src                  
â”‚   â”‚   â”œâ”€â”€ api	 			#æ¥å£å±‚			
â”‚   â”‚   â”œâ”€â”€ const  			#å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ email			#é‚®ä»¶æ¥æ”¶
â”‚   â”‚   â”œâ”€â”€ entity			#æ•°æ®åº“å®ä½“å±‚
â”‚   â”‚   â”œâ”€â”€ error			#è‡ªå®šä¹‰å¼‚å¸¸
â”‚   â”‚   â”œâ”€â”€ hono			#webæ¡†æ¶é…ç½® æ‹¦æˆªå™¨ç­‰
â”‚   â”‚   â”œâ”€â”€ init			#é¡¹ç›®å¯åŠ¨è¡¨åˆ›å»º ç¼“å­˜åˆå§‹åŒ–ç­‰
â”‚   â”‚   â”œâ”€â”€ model			#å“åº”ä½“æ•°æ®å°è£…
â”‚   â”‚   â”œâ”€â”€ security			#èº«ä»½è®¤è¯å±‚
â”‚   â”‚   â”œâ”€â”€ service			#æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ utils			#å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ index.js			#å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ pageckge.json			#é¡¹ç›®ä¾èµ–
â”‚   â””â”€â”€ wrangler.toml			#é¡¹ç›®é…ç½®
â””â”€â”€ mail-vue				#vueå‰ç«¯é¡¹ç›®
    â”œâ”€â”€ src
    â”‚   â”œâ”€â”€ assets			#é™æ€èµ„æºå­—ä½“ç­‰
    â”‚   â”œâ”€â”€ axios 			#axiosé…ç½®
    â”‚   â”œâ”€â”€ components			#è‡ªå®šä¹‰ç»„ä»¶
    â”‚   â”œâ”€â”€ day				#dayjsé…ç½®
    â”‚   â”œâ”€â”€ layout			#ä¸»ä½“å¸ƒå±€ç»„ä»¶
    â”‚   â”œâ”€â”€ request			#apiæ¥å£
    â”‚   â”œâ”€â”€ router			#è·¯ç”±é…ç½®
    â”‚   â”œâ”€â”€ store			#å…¨å±€çŠ¶æ€ç®¡ç†
    â”‚   â”œâ”€â”€ utils			#å·¥å…·ç±»
    â”‚   â”œâ”€â”€ views			#é¡µé¢ç»„ä»¶
    â”‚   â”œâ”€â”€ app.vue			#æ ¹ç»„ä»¶
    â”‚   â”œâ”€â”€ main.js			#å…¥å£js
    â”‚   â””â”€â”€ style.css			#å…¨å±€css
    â”œâ”€â”€ package.json			#é¡¹ç›®ä¾èµ–
    â””â”€â”€ env.dev				#é¡¹ç›®é…ç½®
```



## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯	





